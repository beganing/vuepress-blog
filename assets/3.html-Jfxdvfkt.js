import{_ as n,o as s,c as a,b as t}from"./app-zVI8MIRp.js";const p="/vuepress-blog/assets/image1-aX461EMF.png",e="/vuepress-blog/assets/image2-j6SkX93z.png",o={},c=t(`<h2 id="_1-问题" tabindex="-1"><a class="header-anchor" href="#_1-问题" aria-hidden="true">#</a> 1. 问题</h2><h3 id="_1-1-代码" tabindex="-1"><a class="header-anchor" href="#_1-1-代码" aria-hidden="true">#</a> 1.1. 代码</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>$<span class="token punctuation">.</span><span class="token function">ajaxSetup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">login_token</span><span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#39;login_token&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> global<span class="token punctuation">.</span>ip<span class="token punctuation">.</span>backUrl <span class="token operator">+</span> <span class="token string">&quot;pub/launchEmergencyMsg&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">time</span><span class="token operator">:</span> startTime<span class="token punctuation">,</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> color<span class="token punctuation">,</span>
        <span class="token literal-property property">level</span><span class="token operator">:</span> level<span class="token punctuation">,</span>
        <span class="token literal-property property">mobile</span><span class="token operator">:</span> mobile
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span> <span class="token comment">//HTTP请求类型</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>msg <span class="token operator">==</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">&quot;启动应急短信发送成功!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">&quot;启动应急短信发送失败~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-请求" tabindex="-1"><a class="header-anchor" href="#_1-2-请求" aria-hidden="true">#</a> 1.2. 请求</h3><p><img src="`+p+`" alt="alt text"></p><h2 id="_2-解决方式" tabindex="-1"><a class="header-anchor" href="#_2-解决方式" aria-hidden="true">#</a> 2. 解决方式</h2><p>将<code>post</code>请求换成<code>get</code>请求, 就正常了</p><h3 id="_2-1-代码" tabindex="-1"><a class="header-anchor" href="#_2-1-代码" aria-hidden="true">#</a> 2.1. 代码</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> global<span class="token punctuation">.</span>ip<span class="token punctuation">.</span>backUrl <span class="token operator">+</span> <span class="token string">&quot;pub/launchEmergencyMsg&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">time</span><span class="token operator">:</span> startTime<span class="token punctuation">,</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> color<span class="token punctuation">,</span>
        <span class="token literal-property property">level</span><span class="token operator">:</span> level<span class="token punctuation">,</span>
        <span class="token literal-property property">mobile</span><span class="token operator">:</span> mobile
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token comment">//HTTP请求类型</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>msg <span class="token operator">==</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">&quot;启动应急短信发送成功!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            layer<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">&quot;启动应急短信发送失败~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-请求" tabindex="-1"><a class="header-anchor" href="#_2-2-请求" aria-hidden="true">#</a> 2.2. 请求</h3><p><img src="`+e+'" alt="alt text"></p><h2 id="_3-疑惑" tabindex="-1"><a class="header-anchor" href="#_3-疑惑" aria-hidden="true">#</a> 3. 疑惑</h2><p>同样的情况, 在<code>apifox</code>中进行测试, <code>post</code>和<code>get</code>都可以成功, 不知道为什么!!!</p>',13),l=[c];function i(u,r){return s(),a("div",null,l)}const d=n(o,[["render",i],["__file","3.html.vue"]]);export{d as default};
