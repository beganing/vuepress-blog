import{_ as n,o as s,c as a,b as p}from"./app-zVI8MIRp.js";const t="/vuepress-blog/assets/image1-8p0ppQGb.png",e={},o=p(`<h2 id="_1-方法-1-建议" tabindex="-1"><a class="header-anchor" href="#_1-方法-1-建议" aria-hidden="true">#</a> 1. 方法 1 (建议)</h2><h3 id="_1-1-核心代码" tabindex="-1"><a class="header-anchor" href="#_1-1-核心代码" aria-hidden="true">#</a> 1.1. 核心代码</h3><p>添加配置项<code>maxZoom</code>即可</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-示例" tabindex="-1"><a class="header-anchor" href="#_1-2-示例" aria-hidden="true">#</a> 1.2. 示例</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//获取天地图图层</span>
    <span class="token keyword">const</span> <span class="token function-variable function">getTDTLayer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type1<span class="token punctuation">,</span> type2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> tdtLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TileLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">crossOrigin</span><span class="token operator">:</span> <span class="token string">&#39;anonymous&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">url</span><span class="token operator">:</span>
                <span class="token string">&#39;http://t0.tianditu.gov.cn/&#39;</span> <span class="token operator">+</span>
                type1 <span class="token operator">+</span>
                <span class="token string">&#39;/wmts?&#39;</span> <span class="token operator">+</span>
                <span class="token string">&#39;tk=7320c7ee67c1816975504867658c26b2&#39;</span> <span class="token operator">+</span>
                <span class="token string">&#39;&amp;SERVICE=WMTS&amp;REQUEST=GetTile&amp;VERSION=1.0.0&amp;LAYER=&#39;</span> <span class="token operator">+</span>
                type2 <span class="token operator">+</span>
                <span class="token string">&#39;&amp;STYLE=default&amp;TILEMATRIXSET=c&amp;FORMAT=tiles&amp;TILEMATRIX={z}&amp;TILECOL={x}&amp;TILEROW={y}&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> tdtLayer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> layer1 <span class="token operator">=</span> <span class="token function">getTDTLayer</span><span class="token punctuation">(</span><span class="token string">&#39;img_w&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 影像图</span>
    <span class="token comment">// const layer2 = getTDTLayer(&#39;vec_w&#39;, &#39;vec&#39;); // 矢量图</span>

    <span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">103.8</span><span class="token punctuation">,</span> <span class="token number">36.1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">11.53</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:4326&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 默认是 3857</span>
        <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;ol-map&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>layer1<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">view</span><span class="token operator">:</span> view<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-参考" tabindex="-1"><a class="header-anchor" href="#_1-3-参考" aria-hidden="true">#</a> 1.3. 参考</h3><blockquote><p>查看源码可知, <code>maxZoom</code>参数决定瓦片最大请求层级</p></blockquote><p><img src="`+t+`" alt="对应源码"></p><h2 id="_2-方法-2" tabindex="-1"><a class="header-anchor" href="#_2-方法-2" aria-hidden="true">#</a> 2. 方法 2</h2><h3 id="_2-1-核心代码" tabindex="-1"><a class="header-anchor" href="#_2-1-核心代码" aria-hidden="true">#</a> 2.1. 核心代码</h3><p>通过下述方法, 计算出瓦片的一些参数</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> projection <span class="token operator">=</span> <span class="token function">getProjection</span><span class="token punctuation">(</span><span class="token string">&#39;EPSG:3857&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//坐标系</span>
<span class="token keyword">const</span> projectionExtent <span class="token operator">=</span> projection<span class="token punctuation">.</span><span class="token function">getExtent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token function">getWidth</span><span class="token punctuation">(</span>projectionExtent<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">256</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> maxLevel <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">// 最大显示级别</span>
<span class="token keyword">const</span> resolutions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>maxLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> matrixIds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>maxLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> z <span class="token operator">&lt;=</span> maxLevel<span class="token punctuation">;</span> <span class="token operator">++</span>z<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    resolutions<span class="token punctuation">[</span>z<span class="token punctuation">]</span> <span class="token operator">=</span> size <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
    matrixIds<span class="token punctuation">[</span>z<span class="token punctuation">]</span> <span class="token operator">=</span> z<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token function">getTopLeft</span><span class="token punctuation">(</span>projection<span class="token punctuation">.</span><span class="token function">getExtent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token literal-property property">matrixIds</span><span class="token operator">:</span> matrixIds<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后配置到天地图图层创建的方法中</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">getTDTLayer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type1<span class="token punctuation">,</span> type2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> tdtLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TileLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">crossOrigin</span><span class="token operator">:</span> <span class="token string">&#39;anonymous&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span>
            <span class="token string">&#39;http://t0.tianditu.gov.cn/&#39;</span> <span class="token operator">+</span>
            type1 <span class="token operator">+</span>
            <span class="token string">&#39;/wmts?&#39;</span> <span class="token operator">+</span>
            <span class="token string">&#39;tk=7320c7ee67c1816975504867658c26b2&#39;</span> <span class="token operator">+</span>
            <span class="token string">&#39;&amp;SERVICE=WMTS&amp;REQUEST=GetTile&amp;VERSION=1.0.0&amp;LAYER=&#39;</span> <span class="token operator">+</span>
            type2 <span class="token operator">+</span>
            <span class="token string">&#39;&amp;STYLE=default&amp;TILEMATRIXSET=c&amp;FORMAT=tiles&amp;TILEMATRIX={z}&amp;TILECOL={x}&amp;TILEROW={y}&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:3857&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> tdtLayer<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> layer1 <span class="token operator">=</span> <span class="token function">getTDTLayer</span><span class="token punctuation">(</span><span class="token string">&#39;img_w&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 影像图</span>
<span class="token keyword">const</span> layer2 <span class="token operator">=</span> <span class="token function">getTDTLayer</span><span class="token punctuation">(</span><span class="token string">&#39;vec_w&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;vec&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 矢量图</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后将图层添加到地图中即可</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">11551002.74858707</span><span class="token punctuation">,</span> <span class="token number">4311681.089136243</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">11.53</span><span class="token punctuation">,</span>
    <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:3857&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 默认是 3857</span>
    <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;ol-map&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>layer1<span class="token punctuation">,</span> layer2<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">view</span><span class="token operator">:</span> view<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-完整示例" tabindex="-1"><a class="header-anchor" href="#_2-2-完整示例" aria-hidden="true">#</a> 2.2. 完整示例</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> projection <span class="token operator">=</span> <span class="token function">getProjection</span><span class="token punctuation">(</span><span class="token string">&#39;EPSG:3857&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//坐标系</span>
<span class="token keyword">const</span> projectionExtent <span class="token operator">=</span> projection<span class="token punctuation">.</span><span class="token function">getExtent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token function">getWidth</span><span class="token punctuation">(</span>projectionExtent<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">256</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> maxLevel <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">// 最大显示级别</span>
<span class="token keyword">const</span> resolutions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>maxLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> matrixIds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>maxLevel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> z <span class="token operator">&lt;=</span> maxLevel<span class="token punctuation">;</span> <span class="token operator">++</span>z<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    resolutions<span class="token punctuation">[</span>z<span class="token punctuation">]</span> <span class="token operator">=</span> size <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
    matrixIds<span class="token punctuation">[</span>z<span class="token punctuation">]</span> <span class="token operator">=</span> z<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token function">getTopLeft</span><span class="token punctuation">(</span>projection<span class="token punctuation">.</span><span class="token function">getExtent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token literal-property property">matrixIds</span><span class="token operator">:</span> matrixIds<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取天地图图层</span>
<span class="token keyword">const</span> <span class="token function-variable function">getTDTLayer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type1<span class="token punctuation">,</span> type2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> tdtLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TileLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">crossOrigin</span><span class="token operator">:</span> <span class="token string">&#39;anonymous&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span>
            <span class="token string">&#39;http://t0.tianditu.gov.cn/&#39;</span> <span class="token operator">+</span>
            type1 <span class="token operator">+</span>
            <span class="token string">&#39;/wmts?&#39;</span> <span class="token operator">+</span>
            <span class="token string">&#39;tk=7320c7ee67c1816975504867658c26b2&#39;</span> <span class="token operator">+</span>
            <span class="token string">&#39;&amp;SERVICE=WMTS&amp;REQUEST=GetTile&amp;VERSION=1.0.0&amp;LAYER=&#39;</span> <span class="token operator">+</span>
            type2 <span class="token operator">+</span>
            <span class="token string">&#39;&amp;STYLE=default&amp;TILEMATRIXSET=c&amp;FORMAT=tiles&amp;TILEMATRIX={z}&amp;TILECOL={x}&amp;TILEROW={y}&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:3857&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
            <span class="token comment">// maxZoom: 18,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> tdtLayer<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> layer1 <span class="token operator">=</span> <span class="token function">getTDTLayer</span><span class="token punctuation">(</span><span class="token string">&#39;img_w&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 影像图</span>
<span class="token keyword">const</span> layer2 <span class="token operator">=</span> <span class="token function">getTDTLayer</span><span class="token punctuation">(</span><span class="token string">&#39;vec_w&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;vec&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 矢量图</span>

<span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">11551002.74858707</span><span class="token punctuation">,</span> <span class="token number">4311681.089136243</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">11.53</span><span class="token punctuation">,</span>
    <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:3857&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 默认是 3857</span>
    <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;ol-map&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>layer1<span class="token punctuation">,</span> layer2<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">view</span><span class="token operator">:</span> view<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-说明" tabindex="-1"><a class="header-anchor" href="#_2-3-说明" aria-hidden="true">#</a> 2.3. 说明</h3><p>经测试, 方法 2 有如下问题:</p><ul><li>在 3857 下是正常的</li><li>在 4326 下瓦片还是显示3857的, 所以地图显示和实际坐标不对应</li></ul>`,22),c=[o];function l(i,r){return s(),a("div",null,c)}const k=n(e,[["render",l],["__file","1.html.vue"]]);export{k as default};
