import{_ as t,r as e,o,c,d as n,e as a,f as p,b as l}from"./app-zVI8MIRp.js";const i="/vuepress-blog/assets/image1-Os0-XgYZ.png",r={},u=l(`<h2 id="_1-3857-坐标系下" tabindex="-1"><a class="header-anchor" href="#_1-3857-坐标系下" aria-hidden="true">#</a> 1. 3857 坐标系下</h2><h3 id="_1-1-初始化地图" tabindex="-1"><a class="header-anchor" href="#_1-1-初始化地图" aria-hidden="true">#</a> 1.1. 初始化地图</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;map&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">crs</span><span class="token operator">:</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token constant">CRS</span><span class="token punctuation">.</span><span class="token constant">EPSG3857</span><span class="token punctuation">,</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">30.26731716643256</span><span class="token punctuation">,</span> <span class="token number">120.22817798404904</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token comment">//最大缩放层级</span>
        <span class="token literal-property property">minZoom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//最小缩放层级</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-添加底图" tabindex="-1"><a class="header-anchor" href="#_1-2-添加底图" aria-hidden="true">#</a> 1.2. 添加底图</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">tileLayer</span><span class="token punctuation">(</span>
  <span class="token string">&#39;http://t0.tianditu.com/DataServer?T=vec_w&amp;x={x}&amp;y={y}&amp;l={z}&amp;tk=token&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">minZoom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">minNativeZoom</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
    <span class="token literal-property property">maxNativeZoom</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-4326-坐标系下" tabindex="-1"><a class="header-anchor" href="#_2-4326-坐标系下" aria-hidden="true">#</a> 2. 4326 坐标系下</h2><h3 id="_2-1-初始化地图" tabindex="-1"><a class="header-anchor" href="#_2-1-初始化地图" aria-hidden="true">#</a> 2.1. 初始化地图</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;map&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">crs</span><span class="token operator">:</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token constant">CRS</span><span class="token punctuation">.</span><span class="token constant">EPSG4326</span><span class="token punctuation">,</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">30.26731716643256</span><span class="token punctuation">,</span> <span class="token number">120.22817798404904</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token comment">//最大缩放层级</span>
        <span class="token literal-property property">minZoom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//最小缩放层级</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-添加底图" tabindex="-1"><a class="header-anchor" href="#_2-2-添加底图" aria-hidden="true">#</a> 2.2. 添加底图</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 底图</span>
<span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">tileLayer</span><span class="token punctuation">(</span>
  <span class="token string">&#39;http://t0.tianditu.gov.cn/img_c/wmts?tk=7320c7ee67c1816975504867658c26b2&amp;layer=img&amp;style=default&amp;tilematrixset=c&amp;Service=WMTS&amp;Request=GetTile&amp;Version=1.0.0&amp;Format=tiles&amp;TileMatrix={z}&amp;TileCol={x}&amp;TileRow={y}&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">crossOrigin</span><span class="token operator">:</span> <span class="token string">&#39;anonymous&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
    <span class="token literal-property property">zoomOffset</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">zoomControl</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">attributionControl</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">minZoom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">minNativeZoom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
    <span class="token literal-property property">maxNativeZoom</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 注记</span>
<span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">tileLayer</span><span class="token punctuation">(</span>
  <span class="token string">&#39;http://t0.tianditu.gov.cn/cva_c/wmts?tk=7320c7ee67c1816975504867658c26b2&amp;layer=cva&amp;style=default&amp;tilematrixset=c&amp;Service=WMTS&amp;Request=GetTile&amp;Version=1.0.0&amp;Format=tiles&amp;TileMatrix={z}&amp;TileCol={x}&amp;TileRow={y}&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">crossOrigin</span><span class="token operator">:</span> <span class="token string">&#39;anonymous&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
    <span class="token literal-property property">zoomOffset</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">zoomControl</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">attributionControl</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">minZoom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">minNativeZoom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
    <span class="token literal-property property">maxNativeZoom</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注意</p></blockquote><p>天地图的 EPSG4326 跟国际的 wmts 差了一级，所以此处设置<code>zoomOffset: 1</code>，同样的，<code>maxNativeZoom</code>参数也要调整, 所以是<code>17</code>。</p><h2 id="_3-参考" tabindex="-1"><a class="header-anchor" href="#_3-参考" aria-hidden="true">#</a> 3. 参考</h2><blockquote><p>官网</p></blockquote><p><img src="`+i+'" alt="alt text"></p><blockquote><p>参考</p></blockquote>',16),k={href:"https://blog.csdn.net/m0_45305745/article/details/132101359",target:"_blank",rel:"noopener noreferrer"},d={href:"https://segmentfault.com/q/1010000015462807",target:"_blank",rel:"noopener noreferrer"};function m(v,b){const s=e("ExternalLinkIcon");return o(),c("div",null,[u,n("p",null,[n("a",k,[a("leaflet瓦片图层缩放级别外不隐藏"),p(s)])]),n("p",null,[n("a",d,[a("CRS设置为4326后底图加载异常问题"),p(s)])])])}const h=t(r,[["render",m],["__file","1.html.vue"]]);export{h as default};
