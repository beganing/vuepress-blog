import{_ as t,r as l,o as p,c as o,d as s,e as a,f as e,b as r}from"./app-zVI8MIRp.js";const i="/vuepress-blog/assets/image1-74oBxLoF.png",c="/vuepress-blog/assets/image2--NzaXoNy.png",d={},u=r(`<h2 id="_1-正常加载-geoserver-发布的-wms-服务" tabindex="-1"><a class="header-anchor" href="#_1-正常加载-geoserver-发布的-wms-服务" aria-hidden="true">#</a> 1. 正常加载 geoserver 发布的 wms 服务</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token constant">L</span><span class="token punctuation">.</span>tileLayer
    <span class="token punctuation">.</span><span class="token function">wms</span><span class="token punctuation">(</span><span class="token string">&#39;http://xxx.xxx.xxx.xxx:xxxx/geoserver/xxxxx/wms?&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token string">&#39;xxx:yyy&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;image/png&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">transparent</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>效果展示</p></blockquote><p><img src="`+i+`" alt="alt text"></p><h2 id="_2-添加-sld-body-配置项" tabindex="-1"><a class="header-anchor" href="#_2-添加-sld-body-配置项" aria-hidden="true">#</a> 2. 添加 sld_body 配置项</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token constant">L</span><span class="token punctuation">.</span>tileLayer
    <span class="token punctuation">.</span><span class="token function">wms</span><span class="token punctuation">(</span><span class="token string">&#39;http://xxx.xxx.xxx.xxx:xxxx/geoserver/xxxxx/wms?&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token string">&#39;xxx:yyy&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;image/png&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">transparent</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sld_body</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">get_sld_body</span><span class="token punctuation">(</span><span class="token string">&#39;xxx:yyy&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;#00ff00&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">get_sld_body</span><span class="token punctuation">(</span><span class="token parameter">layername<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sld <span class="token operator">=</span>
        <span class="token string">&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:StyledLayerDescriptor xmlns=&quot;http://www.opengis.net/sld&quot; xmlns:sld=&quot;http://www.opengis.net/sld&quot; xmlns:ogc=&quot;http://www.opengis.net/ogc&quot; xmlns:gml=&quot;http://www.opengis.net/gml&quot; version=&quot;1.0.0&quot;&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:UserLayer&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:LayerFeatureConstraints&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:FeatureTypeConstraint/&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:LayerFeatureConstraints&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:Name&gt;&#39;</span> <span class="token operator">+</span>
        layername <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:Name&gt;&#39;</span> <span class="token operator">+</span> <span class="token comment">//举个例子而已，可以对sld中变量通过参数注入的形式修改，即动态的sld</span>
        <span class="token string">&#39;&lt;sld:UserStyle&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:Title/&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:FeatureTypeStyle&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:Name&gt;group 0&lt;/sld:Name&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:FeatureTypeName&gt;Feature&lt;/sld:FeatureTypeName&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:SemanticTypeIdentifier&gt;generic:geometry&lt;/sld:SemanticTypeIdentifier&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:SemanticTypeIdentifier&gt;simple&lt;/sld:SemanticTypeIdentifier&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:Rule&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:Name&gt;default rule&lt;/sld:Name&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:PointSymbolizer&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:Graphic&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:Mark&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:WellKnownName&gt;circle&lt;/sld:WellKnownName&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:Fill&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:CssParameter name=&quot;fill&quot;&gt;&#39;</span> <span class="token operator">+</span>
        color <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:CssParameter&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:CssParameter name=&quot;fill-opacity&quot;&gt;0.4&lt;/sld:CssParameter&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:Fill&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:Stroke&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:CssParameter name=&quot;stroke&quot;&gt;&#39;</span><span class="token operator">+</span>
        color <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:CssParameter&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:CssParameter name=&quot;stroke-width&quot;&gt;1.2&lt;/sld:CssParameter&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:Stroke&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:Mark&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;sld:Size&gt;5&lt;/sld:Size&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:Graphic&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:PointSymbolizer&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:Rule&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:FeatureTypeStyle&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:UserStyle&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:UserLayer&gt;&#39;</span> <span class="token operator">+</span>
        <span class="token string">&#39;&lt;/sld:StyledLayerDescriptor&gt;&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> sld<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>效果展示</p></blockquote><p><img src="`+c+'" alt="alt text"></p><h2 id="_3-注意" tabindex="-1"><a class="header-anchor" href="#_3-注意" aria-hidden="true">#</a> 3. 注意</h2><p>上述加载方式, 受版本影响, 经测试:</p><ul><li>geoserver <code>2.22.1</code> 版本中, <em><strong>不生效</strong></em></li><li>geoserver <code>2.18.0</code> 版本中, <em><strong>生效</strong></em></li></ul><h2 id="_4-参考" tabindex="-1"><a class="header-anchor" href="#_4-参考" aria-hidden="true">#</a> 4. 参考</h2><blockquote><p>测试成功, 不过有版本要求, 且<code>layers</code>和<code>sld_body</code>配置项需要同时配置, 不然不显示</p></blockquote>',14),k={href:"https://blog.csdn.net/freeland1/article/details/49447405",target:"_blank",rel:"noopener noreferrer"},v=s("blockquote",null,[s("p",null,"未测试成功")],-1),g={href:"https://blog.csdn.net/u013323965/article/details/83833432",target:"_blank",rel:"noopener noreferrer"},m={href:"https://blog.csdn.net/supermapsupport/article/details/103598340",target:"_blank",rel:"noopener noreferrer"};function b(x,y){const n=l("ExternalLinkIcon");return p(),o("div",null,[u,s("p",null,[s("a",k,[a("wms根据sld,sld_body请求地图"),e(n)])]),v,s("p",null,[s("a",g,[a("通过SLD_BODY动态改变geoserver的图层样式"),e(n)])]),s("p",null,[s("a",m,[a("通过SLD自定义WMS服务风格"),e(n)])])])}const _=t(d,[["render",b],["__file","2.html.vue"]]);export{_ as default};
